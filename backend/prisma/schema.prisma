generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model comments {
  id       Int       @id @default(autoincrement())
  users_id Int
  posts_id Int
  datetime DateTime? @db.DateTime(0)
  posts    posts     @relation(fields: [posts_id], references: [id], onDelete: Cascade, map: "fk_comments_posts1")
  users    users     @relation(fields: [users_id], references: [id], onDelete: Cascade, map: "fk_comments_users1")

  @@index([posts_id], map: "fk_comments_posts1_idx")
  @@index([users_id], map: "fk_comments_users1_idx")
}

model likes {
  posts_id Int
  users_id Int
  datetime DateTime? @db.DateTime(0)
  posts    posts     @relation(fields: [posts_id], references: [id], onDelete: Cascade, map: "fk_likes_posts1")
  users    users     @relation(fields: [users_id], references: [id], onDelete: Cascade, map: "fk_likes_users1")

  @@id([posts_id, users_id])
  @@index([posts_id], map: "fk_likes_posts1_idx")
  @@index([users_id], map: "fk_likes_users1_idx")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by Prisma Client.
model post_media {
  id        Int    @id @default(autoincrement())
  post_id   Int
  media_url String @db.VarChar(300)
  user_id   Int
  posts     posts  @relation(fields: [post_id], references: [id], onDelete: Cascade, map: "fk_post_media_posts1")
  users     users  @relation(fields: [user_id], references: [id], onDelete: Cascade, map: "fk_post_media_users1")

  @@index([post_id], map: "fk_post_media_posts1_idx")
  @@index([user_id], map: "fk_post_media_users1_idx")
}

model posts {
  id         Int          @id @default(autoincrement())
  user_id    Int
  date       DateTime     @default(now()) @db.DateTime(0)
  desc       String?      @db.Text
  comments   comments[]
  likes      likes[]
  post_media post_media[]
  users      users        @relation(fields: [user_id], references: [id], onDelete: Cascade, map: "fk_user_id")

  @@index([user_id], map: "fk_user_id_idx")
}

model profileimages {
  id         Int      @id
  user_id    Int
  image_url  String   @db.VarChar(45)
  date       DateTime @default(now()) @db.DateTime(0)
  currentImg Boolean  @default(dbgenerated("b'0'")) @db.Bit(1)
  users      users    @relation(fields: [user_id], references: [id], onDelete: Cascade, map: "fk_profile_image_user_id")

  @@index([user_id], map: "fk_user_id_idx")
}

model relationships {
  follow_id                              Int
  follower_id                            Int
  date                                   String? @db.VarChar(45)
  users_relationships_follow_idTousers   users   @relation("relationships_follow_idTousers", fields: [follow_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_follow_id")
  users_relationships_follower_idTousers users   @relation("relationships_follower_idTousers", fields: [follower_id], references: [id], onDelete: Cascade, map: "fk_follower_id")

  @@id([follow_id, follower_id])
  @@index([follower_id], map: "fk_follower_id_idx")
}

model users {
  id                                             Int             @id @default(autoincrement())
  name                                           String          @db.VarChar(50)
  email                                          String          @unique(map: "email_UNIQUE") @db.VarChar(45)
  password                                       String          @db.VarChar(300)
  gender                                         String          @db.VarChar(10)
  dob                                            DateTime        @db.Date
  img                                            Int?
  mobile_number                                  String?         @unique(map: "mobile_number_UNIQUE") @db.VarChar(20)
  country                                        String?         @db.VarChar(20)
  state                                          String?         @db.VarChar(20)
  city                                           String?         @db.VarChar(20)
  comments                                       comments[]
  likes                                          likes[]
  post_media                                     post_media[]
  posts                                          posts[]
  profileimages                                  profileimages[]
  relationships_relationships_follow_idTousers   relationships[] @relation("relationships_follow_idTousers")
  relationships_relationships_follower_idTousers relationships[] @relation("relationships_follower_idTousers")
}
